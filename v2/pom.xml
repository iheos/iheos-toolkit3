<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/xsd/maven-4.0.0.xsd">
    <modelVersion>4.0.0</modelVersion>

    <parent>
        <groupId>gov.nist.hit.ds</groupId>
        <artifactId>tk-deps</artifactId>
        <version>3.0.0-SNAPSHOT</version>
        <relativePath>../tk-deps/pom.xml</relativePath>
    </parent>

    <groupId>gov.nist.toolkit</groupId>
    <artifactId>v2</artifactId>
    <version>3.0.0-SNAPSHOT</version>
    <packaging>war</packaging>

    <properties>
        <v2.location>/Users/bill/t2</v2.location>
    </properties>

    <dependencies>
        <dependency>
            <groupId>org.codehaus.groovy</groupId>
            <artifactId>groovy-all</artifactId>
        </dependency>
        <dependency>
            <groupId>com.google.gwt</groupId>
            <artifactId>gwt-user</artifactId>
            <version>2.5.1</version>
        </dependency>
        <dependency>
            <groupId>com.google.gwt</groupId>
            <artifactId>gwt-servlet</artifactId>
            <scope>runtime</scope>
            <version>2.5.1</version>
        </dependency>
        <dependency>
            <groupId>log4j</groupId>
            <artifactId>log4j</artifactId>
            <version>1.2.17</version>
        </dependency>
        <dependency>
            <groupId>gov.nist.hit.ds</groupId>
            <artifactId>utilities</artifactId>
        </dependency>
<dependency>
    <groupId>org.apache.axis2</groupId>
    <artifactId>addressing</artifactId>
    <version>1.5.4</version>
    <type>mar</type>
</dependency>
<dependency>
    <groupId>org.apache.axis2</groupId>
    <artifactId>axis2-transport-local</artifactId>
    <version>1.5.4</version>
</dependency>
<dependency>
    <groupId>org.apache.axis2</groupId>
    <artifactId>axis2-transport-http</artifactId>
    <version>1.5.2</version>
</dependency>

        <dependency>
            <groupId>org.apache.ws.commons.axiom</groupId>
            <artifactId>axiom-api</artifactId>
            <version>1.2.10</version>    <!-- if we inherit from tk-deps it always reverts to 1.2.14 which fails - even when tk-deps says 1.2.10 -->
        </dependency>
        <dependency>
            <groupId>org.apache.ws.commons.axiom</groupId>
            <artifactId>axiom-impl</artifactId>
            <version>1.2.10</version>
        </dependency>
        <dependency>
            <groupId>org.apache.ws.commons.axiom</groupId>
            <artifactId>axiom-dom</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.ws.commons.axiom</groupId>
            <artifactId>axiom-common-impl</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.axis2</groupId>
            <artifactId>axis2-kernel</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.commons.io</groupId>
            <artifactId>commons-io</artifactId>
        </dependency>
        <dependency>
            <groupId>org.apache.velocity</groupId>
            <artifactId>velocity</artifactId>
        </dependency>
        <dependency>
            <groupId>org.slf4j</groupId>
            <artifactId>log4j-over-slf4j</artifactId>
        </dependency>
        <dependency>
            <groupId>com.fasterxml</groupId>
            <artifactId>jackson-xml-databind</artifactId>
        </dependency>
        <dependency>
            <groupId>com.fasterxml.jackson.core</groupId>
            <artifactId>jackson-databind</artifactId>
        </dependency>
        <dependency>
            <groupId>backport-util-concurrent</groupId>
            <artifactId>backport-util-concurrent</artifactId>
        </dependency>
        <dependency>
            <groupId>org.opensaml</groupId>
            <artifactId>opensaml</artifactId>
            <version>2.5.3</version>
        </dependency>
        <dependency>
            <groupId>org.apache.xmlbeans</groupId>
            <artifactId>xmlbeans-xmlpublic</artifactId>
            <version>2.6.0</version>
        </dependency>
        <dependency>
            <groupId>gov.nist.toolkit</groupId>
            <artifactId>wsseTool</artifactId>
            <version>1.3.1</version>
        </dependency>
        <dependency>
            <groupId>org.bouncycastle</groupId>
            <artifactId>bcmail-jdk15on</artifactId>
            <version>1.47</version>
        </dependency>
        <dependency>
            <groupId>org.bouncycastle</groupId>
            <artifactId>bcpkix-jdk15on</artifactId>
            <version>1.47</version>
        </dependency>
        <dependency>
            <groupId>org.bouncycastle</groupId>
            <artifactId>bcprov-jdk15on</artifactId>
            <version>1.47</version>
        </dependency>
        <dependency>
            <groupId>soap</groupId>
            <artifactId>soap</artifactId>
            <version>2.3</version>
        </dependency>
        <dependency>
            <groupId>org.apache.james</groupId>
            <artifactId>apache-mailet-base</artifactId>
            <version>1.1</version>
        </dependency>
        <dependency>
            <groupId>org.xbill</groupId>
            <artifactId>DNS</artifactId>
            <version>2.1.4</version>
        </dependency>
        <!--<dependency>-->
            <!--<groupId>org.mortbay.jetty</groupId>-->
            <!--<artifactId>jetty-util</artifactId>-->
            <!--<version>6.1.8</version>-->
        <!--</dependency>-->
        <dependency>
            <groupId>junit</groupId>
            <artifactId>junit</artifactId>
            <version>4.11</version>
        </dependency>
        <dependency>
            <groupId>net.jcip</groupId>
            <artifactId>jcip-annotations</artifactId>
            <version>1.0</version>
        </dependency>
        <dependency>
            <groupId>com.berryworks</groupId>
            <artifactId>edireader</artifactId>
            <version>4.7.3</version>
        </dependency>
    </dependencies>

    <build>
        <plugins>
            <plugin>
                <artifactId>maven-antrun-plugin</artifactId>
                <executions>
                    <execution>
                        <phase>generate-sources</phase>
                        <configuration>
                            <tasks>
                                <delete dir="src"/>
                                <mkdir dir="src/main/java/gov"/>
                                <copy todir="src/main/java/gov" verbose="false" includeEmptyDirs="false">
                                    <fileset dir="${v2.location}/actor-transaction/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/actorfactory/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/common/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/common-datatypes/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <!--<fileset dir="${v2.location}/direct/src/gov">-->
                                        <!--<exclude name="**/DirectMessageValidatorResentFields.java"/>-->
                                        <!--<exclude name="**/*Test.java"/>-->
                                        <!--<exclude name="**/test/java/logger/TestLogger.java"/>-->
                                        <!--<exclude name="**/test/java/mdn/TestMDN.java"/>-->
                                    <!--</fileset>-->
                                    <!--<fileset dir="${v2.location}/direct-listener/src/gov">-->
                                        <!--<exclude name="**/*Test.java"/>-->
                                    <!--</fileset>-->
                                    <!--<fileset dir="${v2.location}/direct-sim/src/gov">-->
                                        <!--<exclude name="**/*Test.java"/>-->
                                    <!--</fileset>-->
                                    <!--<fileset dir="${v2.location}/direct-support/src/gov">-->
                                        <!--<exclude name="**/*Test.java"/>-->
                                    <!--</fileset>-->
                                    <fileset dir="${v2.location}/dns/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/docref/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/dsig/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/email/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/envSettings/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/error-recording/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/http/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/installation/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/message-dispatch/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/message-validator-factory2/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/registry-metadata/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/registry-msg-formats/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/registry-support/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/results/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/saml/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/security-common/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/session/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/sim-common/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/simulators/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/site-management/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/soap/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/testkit-utilities/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/timer/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/tk/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/utilities/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/validators-ccda/src/gov">
                                        <exclude name="**/*Test.java"/>
                                        <exclude name="**/CcdaValidator.java"/>
                                    </fileset>
                                    <!--<fileset dir="${v2.location}/validators-direct-factory/src/gov">-->
                                        <!--<exclude name="**/*Test.java"/>-->
                                    <!--</fileset>-->
                                    <fileset dir="${v2.location}/validators-registry-message/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/validators-registry-metadata/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/validators-support/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/xds-exceptions/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/xdstest-gui/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/xdstest2/src/gov">
                                    </fileset>
                                    <fileset dir="${v2.location}/xdstest2-logging/src/gov">
                                        <exclude name="**/*Test.java"/>
                                    </fileset>
                                    <fileset dir="${v2.location}/xdstools2/src/gov">
                                        <exclude name="**/*Test.java"/>
                                        <exclude name="**/Entry.java"/>
                                    </fileset>
                                </copy>

                                <!-- Build up WEB-INF-->
                                <mkdir dir="src/main/webapp/WEB-INF"/>
                                <copy todir="src/main/webapp/WEB-INF" verbose="false" includeEmptyDirs="false">
                                    <fileset dir="${v2.location}/xdstools2/war/WEB-INF">
                                        <include name="web.xml"/>
                                        <include name="toolkit.properties"/>
                                        <include name="extended.properties"/>
                                    </fileset>
                                </copy>
                                <copy todir="src/main/webapp" verbose="false" includeEmptyDirs="false">
                                    <fileset dir="${v2.location}/xdstools2/war">
                                        <include name="Xdstools2.html"/>
                                        <include name="Xdstools2.css"/>
                                        <include name="toolkitx/**"/>
                                        <include name="build.num"/>
                                        <include name="doc/**"/>
                                        <include name="icons/**"/>
                                    </fileset>
                                </copy>
                            </tasks>
                        </configuration>
                        <goals>
                            <goal>run</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>
            <plugin>
                <groupId>org.apache.maven.plugins</groupId>
                <artifactId>maven-source-plugin</artifactId>
                <version>${maven-source-plugin.version}</version>
                <executions>
                    <execution>
                        <id>attach-sources</id>
                        <goals>
                            <goal>jar</goal>
                        </goals>
                    </execution>
                </executions>
            </plugin>

            <!-- GWT Maven Plugin -->
            <plugin>
                <groupId>org.codehaus.mojo</groupId>
                <artifactId>gwt-maven-plugin</artifactId>
                <version>${gwtVersion}</version>
                <executions>
                    <execution>
                        <id>compilation_profile</id>
                        <goals>
                            <goal>compile</goal>
                            <goal>resources</goal>
                        </goals>
                        <configuration>
                            <!-- copyWebapp: Copies the contents of warSourceDirectory to hostedWebapp. -->
                            <!-- warSourceDirectory : Location of the web application static resources
                                (same as maven-war-plugin parameter) Default value is: ${basedir}/src/main/webapp. -->
                            <!-- hostedWebapp: Location of the hosted-mode web application structure.
                                Default: ${project.build.directory}/${project.build.finalName} -->
                            <!-- no optimization takes place. Good for development -->
                            <optimizationLevel>0</optimizationLevel>
                        </configuration>
                    </execution>

                </executions>
                <configuration>
                    <!-- begin repository related
                    <compileSourcesArtifacts>
                        <compileSourcesArtifact>gov.nist.hit.ds:repository-rpc</compileSourcesArtifact>
                        <compileSourcesArtifact>gov.nist.hit.ds:repository-shared</compileSourcesArtifact>
                        <compileSourcesArtifact>gov.nist.hit.ds:repository-widgets-ui</compileSourcesArtifact>
                    </compileSourcesArtifacts>   -->
                    <!-- end repository related -->

                    <runTarget>Xdstools2.html</runTarget>
                    <modules>
                        <module>${project.groupId}.xdstools2.Xdstools2</module>
                    </modules>
                </configuration>
            </plugin>
        </plugins>
    </build>

    <scm>
        <tag>v3.0.2a</tag>
    </scm>
</project>
