<?xml version="1.0" encoding="UTF-8"?>

<!-- DocumentManifest
    This is the absolute minimalistic coding of an MHD DocumentManifest with
    requirements coming from both FHIR and XDS.
-->

<DocumentManifest xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
                  xsi:schemaLocation="http://hl7.org/fhir file:/Users/bmajur/Documents/HL7/FHIR/Schema/fhir-all-xsd/fhir-all.xsd"
                  xmlns="http://hl7.org/fhir">
    <!-- SubmissionSet.contentTypeCode. See Open Issue MHD022 for discussion on why this may be wrong! -->
    <extension url="http://ihe.net/fhir/Profile/XDS/extensions#contentTypeCode">
        <valueCodeableConcept>
            <coding>
                <system value="2.16.840.1.113883.6.1"/>
                <code value="28570-0"/>
                <display value="Procedure Note"/>
            </coding>
        </valueCodeableConcept>
    </extension>
    <!-- Comments-->
    <extension url=“http://ihe.net/fhir/Profile/XDS/extensions#comments”>
        <valueString value=“Text of the comment”/>
    </extension>
    <!--  homeCommunityId   -->
    <extension url="http://ihe.net/fhir/Profile/XDS/extensions#homeCommunityId">
        <valueString value="urn:oid:1.2.334483.3.337395864.7"/>
    </extension>
    <text>
        <status value="generated"/>
        <div xmlns="http://www.w3.org/1999/xhtml"/>
    </text>
    <contained>
        <!-- only detail is Patient ID
             referenced by <subject/> SubmissionSet.patientId
             this is the Affinity Domain patientID -->
        <Patient id="patient">
            <identifier>
                <system value="urn:oid:1.3.6.1.4.1.21367.2005.3.7"/>
                <value value="1234"/>
            </identifier>
        </Patient>
    </contained>
    <!-- SubmissionSet.uniqueId -->
    <masterIdentifier>
        <system value="urn:ietf:rfc:3986"/>
        <value value="urn:oid:1.3.6.1.4.1.21367.2005.3.8"/>
    </masterIdentifier>
    <!-- DocumentEntry.patientId -->
    <subject>
        <reference value="#patient"/>
    </subject>
    <!-- sourceId -->
    <source value="urn:oid:1.2.3454.3"/>
        <!-- SubmissionSet.availabilityStatus
         FHIR requires this on submission -->
    <status value="current"/>
    <!-- This takes the place of the HasMember association placing
         a DocumentEntry/DocumentReference in the SubmissionSet. The
         referenced value is not present in the example since this is an example
         of just the DocumentManifest object. -->
    <content>
        <reference value="#DocumentEntry1"/>
    </content>
</DocumentManifest>